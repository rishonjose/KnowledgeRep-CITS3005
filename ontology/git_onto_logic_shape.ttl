@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix ex: <http://example.org/git-onto-logic#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# Shape 1 — Every Commit must have exactly one author
ex:CommitAuthorShape
  a sh:NodeShape ;
  sh:targetClass ex:Commit ;
  sh:property [
    sh:path ex:authoredBy ;
    sh:minCount 1 ;
    sh:maxCount 1 ;
    sh:message "Each Commit must have exactly one author" ;
  ] .

# Shape 2 — Every Commit must belong to exactly one Branch
ex:CommitBranchShape
  a sh:NodeShape ;
  sh:targetClass ex:Commit ;
  sh:property [
    sh:path ex:onBranch ;
    sh:minCount 1 ;
    sh:maxCount 1 ;
    sh:message "Each Commit must belong to exactly one Branch" ;
  ] .

# Shape 3 — Each Repository must have at least one Branch
ex:RepositoryBranchShape
  a sh:NodeShape ;
  sh:targetClass ex:Repository ;
  sh:property [
    sh:path ex:hasBranch ;
    sh:minCount 1 ;
    sh:message "Each Repository must have at least one Branch" ;
  ] .
